<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

	<meta name="author" content="Paola Martinez Bautista">
	<meta name="description" content=" Choose vowel kids challenge!">
	<meta name="keywords" content="Choose vowel, kids challenge, colors vowels, JavaScript, CSS3, HTML5">

	<title>Vowels Kids Challenge!</title>
	<link rel="stylesheet" href="www/vowels.css">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
	<div class="row">
		<div class="col-full instructions">
			<h1> Choose the correct vowel </h1>
			<h2>Your score is
				<span id="score">0</span>/10</h2>
		</div>
	</div>

	<div class="row">
		<div id="dropzone-holder" class="col-half ">
			<div class="col-quarter hitbox">
				<img id="question" class="answer hide" src="www/img/correct-green.png" />
				<div id="dropzone-vowel-E" class="dropzone" ondragenter="return enter(event)" ondragover="return over(event)" ondrop="return drop(event)">
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-half hitbox">
			<div id="dropzone-container" class="dropzone container" ondragenter="return enter(event)" ondragover="return over(event)"
			 ondrop="return drop(event)">
				<img id="icon-vowel-A" class="icon" onclick="imgClic('icon-vowel-A','vowel-A')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-A.png">
				<img id="icon-vowel-I" class="icon" onclick="imgClic('icon-vowel-I','vowel-I')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-I.png">
				<img id="icon-vowel-O" class="icon" onclick="imgClic('icon-vowel-O' ,'vowel-O')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-O.png">
				<img id="icon-vowel-U" class="icon" onclick="imgClic('icon-vowel-U','vowel-U')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-U.png">
				<img id="icon-vowel-a2" class="icon" onclick="imgClic('icon-vowel-a2','vowel-a2')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-a2.png">
				<img id="icon-vowel-E" onclick="imgClic('icon-vowel-E','vowel-E')" class="icon" src="www/img/vowel-E.png">
				<img id="icon-vowel-o2" class="icon" onclick="imgClic('icon-vowel-o2','vowel-o2')" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-o2.png">
				<img id="icon-vowel-u2" onclick="imgClic('icon-vowel-u2','vowel-u2')" class="icon" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-u2.png">
				<img id="icon-vowel-i2" onclick="imgClic('icon-vowel-i2','vowel-i2')" class="icon" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-i2.png">
				<img id="icon-vowel-e2" onclick="imgClic('icon-vowel-e2','vowel-e2')" class="icon" draggable="true" ondragstart="return start(event)"
				 ondragend="return end(event)" src="www/img/vowel-e2.png">

			</div>
		</div>
	</div>

	<!-- The Modal -->

	<div id="myModal" class="modal">

		<!-- Modal content -->
		<div class="modal-content">
			<span class="close">&times;</span>
			<h2 style="text-align:center">Game Over!</h2>
			
			<h3 style="text-align:center">Your score is
				<span id="Modelscore">0</span>/10.
			</h3>

			<a href="index.html">
				<input type="submit" id="btnHome" value="Home" />
			</a>

			<a href="vowel.html">
				<input type="submit" id="btnrefresh" value="Refresh" />
			</a>
		</div>

	</div>
	
	<script type="text/javascript">
		var i = 0;
		var score = document.getElementById('score');
		var Modelscore = document.getElementById('Modelscore');
		var modal = document.getElementById('myModal');
		var btn = document.getElementById("myBtn");

		var span = document.getElementsByClassName("close")[0];
			function mybtnclick() {
			modal.style.display = "block";
		}

		span.onclick = function () {
			modal.style.display = "none";
		}

		window.onclick = function (event) {
			if (event.target == modal) {
				modal.style.display = "none";
			}
		}

		$(document).ready(function () {
			$('#next').click(function () {
				$('#dropzone-vowel-E').css("background-image", "url('" + vowel[i].iconVowel + "')");
			})
		});

		function imgClic(id, nombre) {

			if (nombre == vowel[i].name) {
				$('#dropzone-vowel-E').css("background-image", "url('" + vowel[i].inconBackVowel + "')");
				$('#question').attr("src", "www/img/correct-green.png");
				$('#question').attr('class', "answer show");
				$('#' + id).attr('class', "icon answer hide");
				vibrar();
				sumariten();
				if (i < 9) {
					SigVowel = setTimeout(siguienteVowel, 2000);
				}
				else {
					mybtnclick();
				}
			}
			else {

				$('#question').attr("src", "www/img/wrong-red.png");
				$('#question').attr('class', "answer show");
				if (i < 9) {
					SigVowel = setTimeout(siguienteVowel, 2000);
				}
				else {
					mybtnclick();
				}
			}
		}

		function siguienteVowel() {

			i++;
			$('#dropzone-vowel-E').css("background-image", "url('" + vowel[i].iconVowel + "')");
			$('#question').attr('class', "answer hide");

		}

		$('#next').click(function () {

		})


		function sumariten() {
			score.innerHTML = parseInt(score.innerHTML) + 1;
			Modelscore.innerHTML = parseInt(Modelscore.innerHTML) + 1;
		}

		var start = function (e) {
			e.dataTransfer.effectAllowed = 'move';
			e.dataTransfer.setData('iconId', e.target.id);
			e.dataTransfer.setDragImage(e.target, 0, 0);
			return true;
		}
		var vowel = [
			{ name: "vowel-E", iconVowel: "www/img/vowel-E-bg.png", inconBackVowel: "www/img/vowel-E.png" },
			{ name: "vowel-a2", iconVowel: "www/img/vowel-a2-bg.png", inconBackVowel: "www/img/vowel-a2.png" },
			{ name: "vowel-A", iconVowel: "www/img/vowel-A-bg.png", inconBackVowel: "www/img/vowel-A.png" },
			{ name: "vowel-i2", iconVowel: "www/img/vowel-i2-bg.png", inconBackVowel: "www/img/vowel-i2.png" },
			{ name: "vowel-O", iconVowel: "www/img/vowel-O-bg.png", inconBackVowel: "www/img/vowel-O.png" },
			{ name: "vowel-I", iconVowel: "www/img/vowel-I-bg.png", inconBackVowel: "www/img/vowel-I.png" },
			{ name: "vowel-U", iconVowel: "www/img/vowel-U-bg.png", inconBackVowel: "www/img/vowel-U.png" },
			{ name: "vowel-u2", iconVowel: "www/img/vowel-u2-bg.png", inconBackVowel: "www/img/vowel-u2.png" },
			{ name: "vowel-e2", iconVowel: "www/img/vowel-e2-bg.png", inconBackVowel: "www/img/vowel-e2.png" },
			{ name: "vowel-o2", iconVowel: "www/img/vowel-o2-bg.png", inconBackVowel: "www/img/vowel-o2.png" }
		];
		var enter = function (e) {
			return true;
		}
		function vibrar() {
			navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate;
			if (navigator.vibrate) {
				navigator.vibrate(1000);
			} else {
				alert('Tu navegador no soporta la api de vibraciÃ³n HTML5');
			}

		}
	</script>
</body>

</html>